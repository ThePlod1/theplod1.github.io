<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LS Gov | Task & Workshifts Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="moment.js"></script>
</head>

<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <center><h5 class="card-title">LSGov | Task & Workshifts Form</h5></center>
                        <center><img src="https://i.ibb.co/Mc58JMV/Logo.png" width="150px"></center>
                        <div class="form-group">
                            <label for="datetime">Task Date</label>
                            <input type="text" id="datetime" style="text-transform: uppercase;" class="form-control" placeholder="DD/MMM/YYYY">
                        </div>
                        <div class="form-group">
                            <label for="streetname">Street Name</label>
                            <input type="text" id="streetname" class="form-control" placeholder="Street Name">
                        </div>
                        <div class="form-group">
                            <label for="positionT">Position Type</label>
                            <select class="form-control" id="positionT">
                                <option value="" selected disabled>Please Select</option>
                                <option value="Inspector">Inspector</option>
                                <option value="Supervisor">Supervisor</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" class="form-control" placeholder="Firstname Lastname">
                        </div>
                        <div class="form-group">
                            <label for="positionname">Position</label>
                            <input type="text" id="positionname" class="form-control" placeholder="Current Position">
                        </div>
                        <div class="form-group">
                            <label for="badgenum">Badge Number</label>
                            <input type="text" id="badgenum" class="form-control" placeholder="Number">
                        </div>
                        <div class="form-group">
                            <label for="narrative">Task Description</label>
                            <textarea class="form-control" id="narrative"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="locationT">Location of Task</label>
                            <input type="text" id="locationT" class="form-control" placeholder="Location of Task">
                        </div>
                        <div class="form-group">
                            <label for="images">Photos (Split with comma)</label>
                            <textarea class="form-control" id="images"></textarea>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="card mt-2">
                    <div class="card-body">
                        <h5 class="card-title">Useful Links</h5>
                        <ul class="list-style">
                            <li><a target="_blank" href="https://gov.gta.world/viewforum.php?f=872">Tasks & Workshifts</a></li>
                            <li><a target="_blank" href="https://imgur.com">Imgur</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Report Title</h5>
                        <p id="bbtitle"><span id="inspsup">Inspector/Supervisor</span> - <span id="streetn">Street Name</span> - <span id="datetext">DD/MMM/YYYY</span></p>
                        <h5 class="card-title">Copy BBcode</h5>
                        <p id="bbcode">
                            [center][img]https://i.ibb.co/Mc58JMV/Logo.png[/img][/center]<br />
                            [br][/br]<br />
                            [center][color=#535a6c][size=200][b]LOS SANTOS CITY GOVERNMENT - DEPARTMENT OF PUBLIC WORKS[/b][/size][/color]<br />
                            [hr][/hr][size=140][b][color=#5597D0]INSPECTOR TASK REPORT[/color][/b][/size][/center][hr][/hr]<br />
                            [br][/br]<br />
                            [justify]This document serves as a task-creating form for inspectors and supervisors that patrol San Andreas and stumble upon enviornmental hazards, graffiti removal, crime scene clean-ups, water and sewage treatment, power and energy maintenance, garbage disposal, illegal dumping of hazard materials, etc.
                            Upon creation of the task, technicians are responding to the task and provide the required maintenance or service. Supervisors will perform physical check-ups once the technician has completed their task. Supervisors will sign it off as handled. 
                            [br][/br][/justify]<br />
                            <br />
                            [color=#535a6c][b][size=130]TASK CREATED BY:[/size][/b][/color][hr][/hr]<br />
                            [br][/br]<br />
                            [list=none][b]Name[/b] <br />
                            <span id="nameS">Firstname Lastname</span><br />
                            <br />
                            [b]Position[/b] <br />
                            <span id="currpos">Current Position</span><br />
                                <br />
                            [b]Badge Number[/b] <br />
                            <span id="badgenumt">Number</span><br />
                            [/list]<br />
                            <br />
                            [br][/br]<br />
                            [color=#535a6c][b][size=130]TASK DETAILS[/size][/b][/color][hr][/hr]<br />
                            [br][/br]<br />
                            [list=none][b]Task description[/b] <br />
                            Brief description of the task<br />
                            <span id="narrativetext"></span>
                            <br /><br />
                            [b]Location[/b] <br />
                            <span id="taskloc">Location of task</span><br />
                                <br />
                            [b]Photos[/b] <br />
                            <span id="imgs">[img]imagehere[/img]</span><br />
                            [/list]<br />
                            <br />
                            [br][/br]<br />
                            <br />
                            Supervisor Response Format<br />
                            [code][color=#535a6c][b][size=130]Supervisor Check-up[/size][/b][/color][hr][/hr]<br />
                            [br][/br]<br />
                            [list=none][b]Name[/b] <br />
                            Firstname Lastname<br />
                                <br />
                            [b]Position[/b] <br />
                            Current Position<br />
                                <br />
                            [b]Location[/b] <br />
                            Location of task<br />
                                <br />
                            [b]Task Completion[/b] <br />
                            Yes/No<br />
                            [/list]<br />
                            <br />
                            [br][/br]
                        </p>
                        <button class="btn btn-secondary mt-3" onclick="copy_data(bbtitle)">Copy Title</button>
                        <button class="btn btn-primary mt-3" onclick="copy_data(bbcode)">Copy Code</button>
                    </div>
                </div>
            </div>
        </div>
        <p>Coded with Love by ThePlod</p>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function(){
            var date = moment.utc();
            var currentDate = date.format('DD/MMM/YYYY').toUpperCase();
            document.getElementById('datetime').value = currentDate;
            $("#datetext").text(currentDate);
            $("#datetime").on("change keypress input", function() {
                var datetime = $("#datetime").val().toUpperCase();
                const myArray = datetime.split(" ");
                $("#datetimetext").text(datetime);
                $("#datetext").text(myArray[0]);
            });   
            $("#streetname").on("change keypress input", function() {
                var streetn = $("#streetname").val();
                $("#streetn").text(streetn);
            });
            $("#name").on("change keypress input", function() {
                var nameS = $("#name").val();
                $("#nameS").text(nameS);
            });
            $("#positionname").on("change keypress input", function() {
                var currpos = $("#positionname").val();
                $("#currpos").text(currpos);
            });
            $("#badgenum").on("change keypress input", function() {
                var badgenumt = $("#badgenum").val();
                $("#badgenumt").text(badgenumt);
            });
            $("#locationT").on("change keypress input", function() {
                var taskloc = $("#locationT").val();
                $("#taskloc").text(taskloc);
            });
            document.querySelector('#narrative').addEventListener('keyup', function() {
                document.querySelector('#narrativetext').innerText = this.value;
            });

            $("#images").on("change keypress input", function() {
                var imgs = $("#images").val();
                var imgss = imgs.split(","), i;
                var allimgs = "";
                for (i = 0; i< imgss.length; i++) {
                    var newimg = "[img]";
                    newimg += imgss[i];
                    newimg += "[/img]";
                    allimgs += newimg;
                }
                $("#imgs").text(allimgs);
            }); 
            const selectType = document.querySelector('#positionT');
            selectType.addEventListener('change', (event) => {
                var typeValue = event.target.value
                $("#inspsup").text(typeValue);
            });
        }); 
        function copy_data(containerid) {
            var range = document.createRange();
            range.selectNode(containerid); //changed here
            window.getSelection().removeAllRanges(); 
            window.getSelection().addRange(range); 
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
            alert("BBCode Copied");
        }
    </script>
</body>

</html>